I"¡'<h3 id="æ¢é’±çš„æ–¹æ³•æ•°">æ¢é’±çš„æ–¹æ³•æ•°</h3>
<p><strong>ã€é¢˜ç›®ã€‘</strong>
ç»™å®šæ•°ç»„arrï¼Œarrä¸­æ‰€æœ‰çš„å€¼éƒ½ä¸ºæ­£æ•°ä¸”ä¸é‡å¤ã€‚æ¯ä¸ªå€¼ä»£è¡¨ä¸€ç§é¢å€¼çš„è´§å¸ï¼Œæ¯ç§é¢å€¼çš„è´§å¸å¯ä»¥ä½¿ç”¨ä»»æ„å¼ ï¼Œå†ç»™å®šä¸€ä¸ªæ•´æ•°aimä»£è¡¨è¦æ‰¾çš„é’±æ•°ï¼Œæ±‚æ¢é’±æœ‰å¤šå°‘ç§æ–¹æ³•ã€‚<br />
<strong>ã€ä¸¾ä¾‹ã€‘</strong>
arr=[5,10,25,1]ï¼Œaim=0ã€‚<br />
ç»„æˆ0å…ƒçš„æ–¹æ³•æœ‰1ç§ï¼Œå°±æ˜¯æ‰€æœ‰é¢å€¼çš„è´§å¸éƒ½ä¸ç”¨ã€‚æ‰€ä»¥è¿”å›1ã€‚<br />
arr=[5,10,25,1]ï¼Œaim=15ã€‚<br />
ç»„æˆ15å…ƒçš„æ–¹æ³•æœ‰6ç§ï¼Œåˆ†åˆ«ä¸º3å¼ 5å…ƒã€1å¼ 10å…ƒ+1å¼ 5å…ƒã€1å¼ 10å…ƒ+5å¼ 1å…ƒã€10å¼ 1å…ƒ+1å¼ 5å…ƒã€2å¼ 5å…ƒ+5å¼ 1å…ƒå’Œ15å¼ 1å…ƒã€‚æ‰€ä»¥è¿”å›6ã€‚<br />
arr=[3,5]ï¼Œaim=2ã€‚<br />
ä»»ä½•æ–¹æ³•éƒ½æ— æ³•ç»„æˆ2å…ƒã€‚æ‰€ä»¥è¿”å›0ã€‚<br /></p>

<p>ä¸¾ä¸ªæ —å­<br />
<img src="https://blog-1258233124.cos.ap-beijing.myqcloud.com/Problem_01_CoinsWay.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if (index == arr.length) {
    			res = aim == 0 ? 1 : 0;
    		} else {
    			for (int i = 0; arr[index] * i &lt;= aim; i++) {
    				res += process1(arr, index + 1, aim - arr[index] * i);
    			}
</code></pre></div></div>

<h3 id="æš´åŠ›é€’å½’-æ–¹æ³•1-ä»å‰å¾€åæ¨">æš´åŠ›é€’å½’ æ–¹æ³•1 ä»å‰å¾€åæ¨</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/**
 * æ¢é’±çš„æ–¹æ³•æ•°
 * 
 * @author ZXQ
 *
 */
public class Problem_01_CoinsWay {

	public static int coins1(int[] arr, int aim) {
		if (arr == null || arr.length == 0 || aim &lt; 0) {
			return 0;
		}
		return process1(arr, 0, aim);
	}

	/**
	 * 
	 * @param arr
	 *            é¢å€¼ç»„æˆçš„æ•°å€¼
	 * @param index
	 *            ç¬¬å‡ ç§é’±
	 * @param aim
	 *            æ€»é’±æ•°
	 * @return
	 */
	public static int process1(int[] arr, int index, int aim) {
		int res = 0;
		// é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ ä»¥5,3,2ä¸ºä¾‹å‡‘æˆ10ï¼Œ5*1+3*1+2*1
		// æ­¤æ—¶å¾ªç¯index==arr.lengthï¼Œaim==0,æ‰€æœ‰çš„é¢å€¼éƒ½è¯•è¿‡äº†ï¼Œæ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œå¦åˆ™æ²¡æ‰¾åˆ°
		if (index == arr.length) {
			res = aim == 0 ? 1 : 0;
		} else {
			for (int i = 0; arr[index] * i &lt;= aim; i++) {
				res += process1(arr, index + 1, aim - arr[index] * i);
			}
		}
		return res;
	}
}
</code></pre></div></div>

<h3 id="æš´åŠ›é€’å½’-æ–¹æ³•2-ä»åå¾€å‰æ¨">æš´åŠ›é€’å½’ æ–¹æ³•2 ä»åå¾€å‰æ¨</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static int coinsOther(int[] arr, int aim) {

		if(arr==null||arr.length==0||aim&lt;0){
			return 0;
		}
		return processOther(arr,arr.length-1,aim);
	}
	
	public static int processOther(int[] arr,int index,int aim){
		int res=0;
		if(index==-1){
			res=aim==0?1:0;
		}else{
			for(int i=0;arr[index]*i&lt;=aim;i++){
				res+=processOther(arr,index-1,aim-arr[index]*i);
			}
		}
		return res;
	}
</code></pre></div></div>

<h3 id="è®°å¿†æœç´¢">è®°å¿†æœç´¢</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static int coins2(int[] arr, int aim) {
		if (arr == null || arr.length == 0 || aim &lt; 0) {
			return 0;
		}
		int[][] map = new int[arr.length + 1][aim + 1];
		return process2(arr, 0, aim, map);
	}

	public static int process2(int[] arr, int index, int aim, int[][] map) {
		int res = 0;
		if (index == arr.length) {
			res = aim == 0 ? 1 : 0;
		} else {
			int mapValue = 0;
			for (int i = 0; arr[index] * i &lt;= aim; i++) {
				mapValue = map[index + 1][aim - arr[index] * i];
				if (mapValue != 0) {
					res += mapValue == -1 ? 0 : mapValue;
				} else {
					res += process2(arr, index + 1, aim - arr[index] * i, map);
				}
			}
		}
		map[index][aim] = res == 0 ? -1 : res;
		return res;
	}
</code></pre></div></div>

<blockquote>
  <p>å®ç°å‡†å¤‡å¥½å…¨å±€å˜é‡mapè®°å½•å·²ç»è®¡ç®—è¿‡çš„é€’å½’è¿‡ç¨‹çš„ç»“æœï¼Œé˜²æ­¢ä¸‹æ¬¡é‡å¤è®¡ç®—ã€‚å› ä¸ºæœ¬é¢˜çš„é€’å½’è¿‡ç¨‹è¯¾ç”±
ä¸¤ä¸ªå˜é‡æ¥è¡¨ç¤ºï¼Œæ‰€ä»¥mapæ˜¯ä¸€å¼ äºŒç»´è¡¨ï¼ŒäºŒç»´æ•°ç»„map[i][j]çš„ç»“æœä»£è¡¨p(i,j)çš„è¿”å›ç»“æœï¼Œåœ¨æ¯ä¸€æ¬¡è¿›å…¥ä¸‹ä¸€æ¬¡çš„é€’å½’ä¹‹å‰ï¼Œå…ˆæŸ¥è¯¢æ˜¯å¦å·²ç»è®¡ç®—è¿‡äº†ï¼Œå¦‚æœè®¡ç®—è¿‡å°±æŠŠç»“æœä»mapä¸­æ‹¿å‡ºæ¥ç›´æ¥ç”¨ï¼Œå¦‚æœæ²¡è®¡ç®—è¿‡æ‰è¿›å…¥é€’å½’è¿‡ç¨‹ï¼Œå¹¶ä¸”æ¯ä¸ªé€’å½’è¿‡ç¨‹åœ¨è®¡ç®—å®Œæˆåï¼Œéƒ½ä¼šå°†ç»“æœæ”¾å…¥åˆ°mapä¸­ï¼Œä¸‹æ¬¡é‡åˆ°ç›¸åŒçš„é€’å½’è¿‡ç¨‹å°±å¯ä»¥é˜²æ­¢é‡å¤è®¡ç®—äº†ã€‚å…¶å®è®°å¿†åŒ–æœç´¢æ³•å¯ä»¥è®¤ä¸ºæ˜¯åŠ¨æ€è§„åˆ’æ³•ã€‚</p>
</blockquote>

<h3 id="åŠ¨æ€è§„åˆ’é€æ­¥ç»†åŒ–">åŠ¨æ€è§„åˆ’é€æ­¥ç»†åŒ–</h3>

<blockquote>
  <p>å¦‚æœarré•¿åº¦ä¸ºNï¼Œç”Ÿæˆè¡Œæ•°ä¸ºNï¼Œåˆ—æ•°ä¸ºaim+1çš„çŸ©é˜µdpï¼Œdp[i][j]çš„å«ä¹‰æ˜¯åœ¨ä½¿ç”¨arr[0â€¦i]çš„è´§å¸çš„æƒ…å†µä¸‹ï¼Œç»„æˆé’±æ•°jæœ‰å¤šå°‘ç§æ–¹æ³•ï¼Œdpçš„æ±‚æ³•å¦‚ä¸‹ï¼š</p>

  <p>1ã€å¯¹äºçŸ©é˜µdpç¬¬ä¸€åˆ—çš„å€¼è¡¨ç¤ºç»„æˆé’±æ•°ä¸º0çš„æ–¹æ³•æ•°ï¼Œå¾ˆæ˜æ˜¾æ˜¯ä¸€ç§ï¼Œå³ä¸é€‚ç”¨ä»»ä½•è´§å¸ï¼Œæ‰€ä»¥dpç¬¬ä¸€åˆ—çš„å€¼ç»Ÿä¸€è®¾ç½®ä¸º1ï¼Œ</p>

  <p>2ã€å¯¹äºdpçŸ©é˜µç¬¬ä¸€è¡Œçš„å€¼ï¼Œè¡¨ç¤ºåªèƒ½ä½¿ç”¨arr[0]è¿™ä¸€ç§è´§å¸æƒ…å†µä¸‹ï¼Œç»„æˆé’±çš„æ–¹æ³•æ•°ï¼Œæ¯”å¦‚arr[0]=5æ—¶ï¼Œèƒ½ç»„æˆé’±çš„æ•°åªèƒ½æ˜¯0,5ï¼Œ10,15ç­‰ç­‰ï¼Œä¹Ÿå°±æ˜¯è¯´arr[0]çš„æ•´æ•°å€çš„ä½ç½®ï¼Œæ‰èƒ½è¢«arr[0]è¿™ç§è´§å¸ç»„æˆï¼Œé‚£ä¹ˆå…¶ä»–é’±æ•°å°±é€šé€šä¸è¡Œäº†ï¼Œæ‰€ä»¥å°±å°†ç›¸åº”ä½ç½®è®¾ç½®ä¸º1ï¼Œè€Œå…¶ä»–ä½ç½®è®¾ç½®ä¸º0ï¼Œ</p>

  <p>3ã€é™¤äº†ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ï¼Œå…¶ä»–ä½ç½®å‡è®¾ä¸ºä½ç½®[i][j]ï¼Œé‚£ä¹ˆdp[i][j]çš„å€¼æ˜¯ä¸€ä¸‹å€¼çš„ç´¯åŠ ï¼š</p>

  <p>ä¸Šé¢çš„æ–¹æ³•æ•°ç´¯åŠ ä¹‹åå°±æ˜¯dp[i][j]çš„å€¼ï¼Œä»å·¦å¾€å³ä¾æ¬¡æ±‚å‡ºdpçŸ©é˜µä¸­æ¯ä¸€è¡Œçš„å€¼ï¼Œç„¶åå†è®¡ç®—ä¸‹ä¸€è¡Œçš„å€¼ï¼Œé‚£ä¹ˆæœ€ç»ˆæœ€å³ä¸‹è§’çš„å€¼ï¼Œå³dp[N-1][aim]çš„å€¼ï¼Œå°±æ˜¯æœ€ç»ˆç»“æœï¼Œè¿”å›å³å¯ã€‚</p>
</blockquote>

<p><img src="https://blog-1258233124.cos.ap-beijing.myqcloud.com/Problem_01_CoinsWay1.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static int coins3(int[] arr, int aim) {
		if (arr == null || arr.length == 0 || aim &lt; 0) {
			return 0;
		}
		int[][] dp = new int[arr.length][aim + 1];
		for (int i = 0; i &lt; arr.length; i++) {
			dp[i][0] = 1;
		}
		for (int j = 1; arr[0] * j &lt;= aim; j++) {
			dp[0][arr[0] * j] = 1;
		}
		int num = 0;
		for (int i = 1; i &lt; arr.length; i++) {
			for (int j = 1; j &lt;= aim; j++) {
				num = 0;
				for (int k = 0; j - arr[i] * k &gt;= 0; k++) {
					num += dp[i - 1][j - arr[i] * k];
				}
				dp[i][j] = num;
			}
		}
		return dp[arr.length - 1][aim];
	}

	public static int coins4(int[] arr, int aim) {
		if (arr == null || arr.length == 0 || aim &lt; 0) {
			return 0;
		}
		int[][] dp = new int[arr.length][aim + 1];
		for (int i = 0; i &lt; arr.length; i++) {
			dp[i][0] = 1;
		}
		for (int j = 1; arr[0] * j &lt;= aim; j++) {
			dp[0][arr[0] * j] = 1;
		}
		for (int i = 1; i &lt; arr.length; i++) {
			for (int j = 1; j &lt;= aim; j++) {
				dp[i][j] = dp[i - 1][j];
				dp[i][j] += j - arr[i] &gt;= 0 ? dp[i][j - arr[i]] : 0;
			}
		}
		return dp[arr.length - 1][aim];
	}

	public static int coins5(int[] arr, int aim) {
		if (arr == null || arr.length == 0 || aim &lt; 0) {
			return 0;
		}
		int[] dp = new int[aim + 1];
		for (int j = 0; arr[0] * j &lt;= aim; j++) {
			dp[arr[0] * j] = 1;
		}
		for (int i = 1; i &lt; arr.length; i++) {
			for (int j = 1; j &lt;= aim; j++) {
				dp[j] += j - arr[i] &gt;= 0 ? dp[j - arr[i]] : 0;
			}
		}
		return dp[aim];
	}
</code></pre></div></div>

<h3 id="main">main</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static void main(String[] args) {
		int[] coins = { 10, 5, 1, 25 };
		int aim = 2000;

		long start = 0;
		long end = 0;
		start = System.currentTimeMillis();
		System.out.println(coins1(coins, aim));
		end = System.currentTimeMillis();
		System.out.println("cost time : " + (end - start) + "(ms)");

		start = System.currentTimeMillis();
		System.out.println(coinsOther(coins, aim));
		end = System.currentTimeMillis();
		System.out.println("cost time : " + (end - start) + "(ms)");

		aim = 20000;

		start = System.currentTimeMillis();
		System.out.println(coins2(coins, aim));
		end = System.currentTimeMillis();
		System.out.println("cost time : " + (end - start) + "(ms)");

		start = System.currentTimeMillis();
		System.out.println(coins3(coins, aim));
		end = System.currentTimeMillis();
		System.out.println("cost time : " + (end - start) + "(ms)");

		start = System.currentTimeMillis();
		System.out.println(coins4(coins, aim));
		end = System.currentTimeMillis();
		System.out.println("cost time : " + (end - start) + "(ms)");

		start = System.currentTimeMillis();
		System.out.println(coins5(coins, aim));
		end = System.currentTimeMillis();
		System.out.println("cost time : " + (end - start) + "(ms)");

	}
</code></pre></div></div>

<p><strong>æµ‹è¯•ç»“æœ</strong><br />
1103021<br />
cost time : 826(ms)<br />
1103021<br />
cost time : 745(ms)<br />
1070270201<br />
cost time : 144(ms)<br />
1070270201<br />
cost time : 213(ms)<br />
1070270201<br />
cost time : 3(ms)<br />
1070270201<br />
cost time : 2(ms)<br /></p>

<h3 id="å·´æ‹‰å·´æ‹‰">å·´æ‹‰å·´æ‹‰</h3>
<p>è‡ªä»ä¸€ä¸ªæœˆå‰åŠ å®Œä¸€ä¸ªå¤§ç¥ä¹‹åï¼Œä¸€ç›´è¯´è¦å­¦ä¹ ä¿æŒä¸€å‘¨ä¸€åšçš„èŠ‚å¥ã€‚
ç»“æœï¼Œæ•´ä¸ªå‡æœŸå„ä¸ªå­¦æ ¡è·‘é‡äº†ï¼Œå›æ ¡è¿™å‡ å‘¨æ¥ä¸€ç›´å¤„äºè¿·èŒ«ã€ç„¦è™‘ã€çº ç»“çš„çŠ¶æ€ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œå¤§å››å”¯æœ‰è®¤çœŸä½“ä¼šï¼Œæ‰èƒ½æ˜ç™½ä¸€äº›è‹¦æ¶©ï¼Œé€‰æ‹©åˆæ˜¯å¦‚æ­¤è‰°éš¾ã€‚
æœ‰äººè¯´æˆ‘æ˜¯çŸ«æƒ…ï¼Œæœ‰äººè¯´æˆ‘èº«åœ¨ç¦ä¸­ä¸çŸ¥ç¦ï¼Œè€Œæˆ‘éƒ½ä¸€ç¬‘ç½®ä¹‹ã€‚æ˜¯æ—¶å€™è¸å®å­¦ä¹ ï¼Œæ¢å¤å¸¸æ€äº†ã€‚<br />
çœ‹æ¥å·¦ç¥çš„ç›´æ’­ç«‹é©¬ç‡ƒäº†ï¼ŒèŠ±äº†109å—å¤§æ´‹ä¹°å·¦ç¥æ•™ç¨‹(æœ‰éœ€è¦çš„å¾®åšç§æˆ‘)ï¼Œè‚ç–¼~~~~~<br /></p>

<blockquote>
  <p>â€œæœ‰çš„äº‹é“å¬é€”è¯´çš„æ—¶å€™ä¼šè§‰å¾—è’è°¬ï¼Œä»”ç»†äº†è§£åŸå§”ç‰¹åˆ«æ˜¯èº«ä¸´å…¶å¢ƒä»¥åï¼Œæ‰æœ‰çœŸæ­£çš„åˆ¤æ–­ã€‚â€â€“ç½‘ä¸Šæ‘˜å½•<br />
<strong> â€œç”Ÿæ´»ä¸èƒ½ç­‰å¾…åˆ«äººæ¥å®‰æ’ï¼Œè¦è‡ªå·±å»äº‰å–å’Œå¥‹æ–—ï¼›è€Œä¸è®ºå…¶ç»“æœæ˜¯å–œæ˜¯æ‚²ï¼Œä½†æ˜¯å¯ä»¥æ…°è—‰çš„æ˜¯ï¼Œä½ æ€»ä¸æ‰åœ¨è¿™ä¸–ä¸Šæ´»äº†ä¸€åœºï¼Œæœ‰äº†è¿™æ ·çš„è®¤è¯†ï¼Œä½ å°±ä¼šçé‡ç”Ÿæ´»ï¼Œè€Œä¸ä¼šç©ä¸–ä¸æ­ï¼ŒåŒæ—¶ä¹Ÿç»™äººè‡ªèº«æ³¨å…¥ä¸€ç§å¼ºå¤§çš„å†…åœ¨åŠ›é‡ã€‚â€â€“ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹è·¯é¥</strong></p>
</blockquote>

:ET