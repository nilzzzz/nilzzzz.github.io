---
layout: post
title: 【笔记】JVM之类的主动使用与被动使用
tag: JVM
---
## 类的主动使用与被动使用

在JVM中表示两个class对象是否为同一个类存在两个必要条件：

- 类的完整类名必须一致，包括包名
- 加载这个类的ClassLoader（指ClassLoader实例对象）必须相同。

换句话说，在JVM中，即使这两个类对象（class对象）来源于同一个class文件，被同一个虚拟机所加载，但只要加载它们的ClassLoader实例对象不同，那么这两个类对象也是不相等的。

## 对类加载器的引用

JVM必须知道一个类型是由启动加载器加载的还是由用户类加载器加载的。如果一个类型是由用户类加载器加载的，那么JVM会**将这个加载器的一个引用作为类型信息的一部分保存在方法区**。当解析一个类型到另一个类型的引用的时候，JVM需保证这两个类型的类加载器是相同的。

![image-20200706125035579](https://gitee.com/XiaoShenKeHeBen/Static/raw/master/image-20200706125035579.png)

